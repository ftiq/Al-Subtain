<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">


        <record id="field_density_sample_type" model="lab.sample.type">
            <field name="name">الكثافة الموقعية</field>
            <field name="code">FIELD_DENSITY</field>
            <field name="description">عينات فحص الكثافة الموقعية للتربة/الطبقات الحصوية</field>
            <field name="sequence">60</field>
            <field name="active">True</field>
        </record>


        <record id="field_density_subtype_agg_base" model="lab.sample.subtype">
            <field name="name">حصى خابط سبيص</field>
            <field name="code">AGG_BASE</field>
            <field name="sample_type_id" ref="appointment_products.field_density_sample_type"/>
            <field name="description">طبقات الأساس/دك الحصى الخابط</field>
            <field name="sequence">10</field>
            <field name="active">True</field>
        </record>

        <record id="field_density_subtype_natural_soil" model="lab.sample.subtype">
            <field name="name">أرض طبيعية</field>
            <field name="code">NATURAL_SOIL</field>
            <field name="sample_type_id" ref="appointment_products.field_density_sample_type"/>
            <field name="description">تربة طبيعية (بدون معالجة)</field>
            <field name="sequence">20</field>
            <field name="active">True</field>
        </record>




        <record id="template_field_density_t191" model="lab.test.template">
            <field name="name">فحص الكثافة الموقعية (حصى خابط سبيص)</field>
            <field name="code">FIELD_DENSITY_T191</field>
            <field name="description">فحص الكثافة الموقعية وفق AASHTO T-191 (Sand-Cone Method)</field>
            <field name="standard_code">AASHTO T-191</field>
            <field name="industry_type">soil</field>
            <field name="state">active</field>
            <field name="sequence">60</field>
            <field name="applicable_sample_type_ids" eval="[(6,0,[ref('appointment_products.field_density_sample_type')])]"/>
        </record>


        <record id="t191_wet_density" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">الكثافة الرطبة/الموقعية (كغم/م³)</field>
            <field name="code">WET_DENSITY</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_kg_per_cubic_meter_ap"/>
            <field name="min_value">0</field>
            <field name="sequence">10</field>
            <field name="is_required">True</field>
            <field name="is_critical">False</field>
        </record>

        <record id="t191_moisture" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">المحتوى الرطوبي (%)</field>
            <field name="code">MOISTURE_CONTENT</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_percent_ap"/>
            <field name="min_value">0</field>
            <field name="max_value">0</field>
            <field name="sequence">11</field>
            <field name="is_required">True</field>
            <field name="is_critical">False</field>
        </record>

        <record id="t191_lab_max_dry_density" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">الكثافة الجافة القصوى المختبرية (كغم/م³)</field>
            <field name="code">LAB_MAX_DRY_DENSITY</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_kg_per_cubic_meter_ap"/>
            <field name="min_value">0</field>
            <field name="sequence">12</field>
            <field name="is_required">True</field>
            <field name="is_critical">False</field>
        </record>


        <record id="t191_dry_density" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">الكثافة الجافة (كغم/م³)</field>
            <field name="code">DRY_DENSITY</field>
            <field name="test_type">computed</field>
            <field name="uom_id" ref="appointment_products.uom_kg_per_cubic_meter_ap"/>
            <field name="is_input_field">False</field>
            <field name="is_computed_field">True</field>
            <field name="computation_formula">result = (WET_DENSITY / (1 + (MOISTURE_CONTENT/100))) if (WET_DENSITY and MOISTURE_CONTENT is not None) else 0</field>
            <field name="depends_on_criteria_ids" eval="[(6,0,[ref('appointment_products.t191_wet_density'), ref('appointment_products.t191_moisture')])]"/>
            <field name="sequence">20</field>
            <field name="is_required">False</field>
            <field name="is_critical">False</field>
        </record>

        <record id="t191_dry_density_avg" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">معدل الكثافة الجافة (كغم/م³)</field>
            <field name="code">DRY_DENSITY_AVG</field>
            <field name="test_type">computed</field>
            <field name="uom_id" ref="appointment_products.uom_kg_per_cubic_meter_ap"/>
            <field name="is_input_field">False</field>
            <field name="is_computed_field">True</field>
            <field name="computation_formula">result = avg_series('DRY_DENSITY')</field>
            <field name="depends_on_criteria_ids" eval="[(6,0,[ref('appointment_products.t191_dry_density')])]"/>
            <field name="sequence">21</field>
            <field name="is_summary_field">True</field>
            <field name="is_required">False</field>
            <field name="is_critical">False</field>
        </record>

        <record id="t191_compaction_ratio" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">نسبة الحدل (%)</field>
            <field name="code">COMPACTION_RATIO</field>
            <field name="test_type">computed</field>
            <field name="uom_id" ref="appointment_products.uom_percent_ap"/>
            <field name="is_input_field">False</field>
            <field name="is_computed_field">True</field>
            <field name="computation_formula">result = ((DRY_DENSITY / LAB_MAX_DRY_DENSITY) * 100) if (LAB_MAX_DRY_DENSITY and LAB_MAX_DRY_DENSITY != 0) else 0</field>
            <field name="depends_on_criteria_ids" eval="[(6,0,[ref('appointment_products.t191_dry_density'), ref('appointment_products.t191_lab_max_dry_density')])]"/>
            <field name="sequence">22</field>
            <field name="is_required">False</field>
            <field name="is_critical">False</field>
        </record>

        <record id="t191_compaction_ratio_avg" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">معدل نسبة الحدل (%)</field>
            <field name="code">COMPACTION_RATIO_AVG</field>
            <field name="test_type">computed</field>
            <field name="uom_id" ref="appointment_products.uom_percent_ap"/>
            <field name="is_input_field">False</field>
            <field name="is_computed_field">True</field>
            <field name="computation_formula">result = avg_series('COMPACTION_RATIO')</field>
            <field name="depends_on_criteria_ids" eval="[(6,0,[ref('appointment_products.t191_compaction_ratio')])]"/>
            <field name="sequence">23</field>
            <field name="is_required">False</field>
            <field name="is_critical">True</field>
            <field name="is_summary_field">True</field>
        </record>


        <record id="t191_w1" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">وزن الرمل الأساسي (غم)</field>
            <field name="code">W1</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_gram_ap"/>
            <field name="sequence">8</field>
            <field name="is_required">False</field>
        </record>
        <record id="t191_w2" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">وزن الرمل للجزء العلوي من المخروط (غم)</field>
            <field name="code">W2</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_gram_ap"/>
            <field name="sequence">9</field>
            <field name="is_required">False</field>
        </record>
        <record id="t191_w3" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">وزن الجزء السفلي للمخروط (غم)</field>
            <field name="code">W3</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_gram_ap"/>
            <field name="sequence">9</field>
            <field name="is_required">False</field>
        </record>
        <record id="t191_w4" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">وزن الرمل في الحفرة (غم)</field>
            <field name="code">W4</field>
            <field name="test_type">computed</field>
            <field name="uom_id" ref="appointment_products.uom_gram_ap"/>
            <field name="is_input_field">False</field>
            <field name="is_computed_field">True</field>
            <field name="computation_formula">result = (W1 or 0) - (W2 or 0) - (W3 or 0)</field>
            <field name="depends_on_criteria_ids" eval="[(6,0,[ref('appointment_products.t191_w1'), ref('appointment_products.t191_w2'), ref('appointment_products.t191_w3')])]"/>
            <field name="sequence">12</field>
            <field name="is_required">False</field>
        </record>
        <record id="t191_ds" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">الكثافة القياسية للرمل (كغم/م³)</field>
            <field name="code">DS</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_kg_per_cubic_meter_ap"/>
            <field name="sequence">12</field>
            <field name="is_required">False</field>
        </record>
        <record id="t191_vh" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">حجم الحفرة (سم³)</field>
            <field name="code">VH</field>
            <field name="test_type">computed</field>
            <field name="is_input_field">False</field>
            <field name="is_computed_field">True</field>
            <field name="computation_formula">result = ((W4 or 0) * 1000) / DS if DS else 0</field>
            <field name="depends_on_criteria_ids" eval="[(6,0,[ref('appointment_products.t191_w4'), ref('appointment_products.t191_ds')])]"/>
            <field name="sequence">13</field>
            <field name="is_required">False</field>
        </record>
        <record id="t191_w5" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">الوزن الرطب للتربة (غم)</field>
            <field name="code">W5</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_gram_ap"/>
            <field name="sequence">16</field>
            <field name="is_required">False</field>
        </record>
        <record id="t191_w6" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">وزن التربة مع العلبة (غم)</field>
            <field name="code">W6</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_gram_ap"/>
            <field name="sequence">17</field>
            <field name="is_required">False</field>
        </record>
        <record id="t191_w7" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">الوزن الجاف للتربة مع العلبة (غم)</field>
            <field name="code">W7</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_gram_ap"/>
            <field name="sequence">18</field>
            <field name="is_required">False</field>
        </record>
        <record id="t191_w8" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="name">وزن العلبة (غم)</field>
            <field name="code">W8</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_gram_ap"/>
            <field name="sequence">19</field>
            <field name="is_required">False</field>
        </record>


        <record id="field_density_t191_flow_template" model="lab.test.flow.template">
            <field name="name">فحص الكثافة الموقعية (حصى خابط سبيص)</field>
            <field name="description">فحص الكثافة الموقعية</field>
            <field name="allow_parallel_tests" eval="True"/>
        </record>
        <record id="field_density_t191_flow_stage1" model="lab.test.flow.template.line">
            <field name="template_id" ref="appointment_products.field_density_t191_flow_template"/>
            <field name="sequence">10</field>
            <field name="test_template_id" ref="appointment_products.template_field_density_t191"/>
            <field name="sample_qty">3</field>
        </record>

        <record id="product_field_density_agg_base" model="product.template">
            <field name="name">العينة - الكثافة الموقعية (حصى خابط سبيص)</field>
            <field name="type">consu</field>
            <field name="is_sample_product">True</field>
            <field name="tracking">serial</field>
            <field name="sample_type_id" ref="appointment_products.field_density_sample_type"/>
            <field name="test_flow_template_id" ref="appointment_products.field_density_t191_flow_template"/>
            <field name="categ_id" ref="product.product_category_all"/>
        </record>




        <record id="template_field_density_d2937" model="lab.test.template">
            <field name="name">فحص الكثافة الموقعية (أرض طبيعية)</field>
            <field name="code">FIELD_DENSITY_D2937</field>
            <field name="description">فحص الكثافة الموقعية (Drive-Cylinder Method)</field>
            <field name="standard_code">ASTM D2937</field>
            <field name="industry_type">soil</field>
            <field name="state">active</field>
            <field name="sequence">61</field>
            <field name="applicable_sample_type_ids" eval="[(6,0,[ref('appointment_products.field_density_sample_type')])]"/>
        </record>


        <record id="d2937_wet_density" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_d2937"/>
            <field name="name">الكثافة الرطبة/الموقعية (كغم/م³)</field>
            <field name="code">WET_DENSITY</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_kg_per_cubic_meter_ap"/>
            <field name="min_value">0</field>
            <field name="sequence">10</field>
            <field name="is_required">True</field>
            <field name="is_critical">False</field>
        </record>

        <record id="d2937_moisture" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_d2937"/>
            <field name="name">المحتوى الرطوبي (%)</field>
            <field name="code">MOISTURE_CONTENT</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_percent_ap"/>
            <field name="min_value">0</field>
            <field name="max_value">0</field>
            <field name="sequence">11</field>
            <field name="is_required">True</field>
            <field name="is_critical">False</field>
        </record>

        <record id="d2937_lab_max_dry_density" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_d2937"/>
            <field name="name">الكثافة الجافة القصوى المختبرية (كغم/م³)</field>
            <field name="code">LAB_MAX_DRY_DENSITY</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_kg_per_cubic_meter_ap"/>
            <field name="min_value">0</field>
            <field name="sequence">12</field>
            <field name="is_required">True</field>
            <field name="is_critical">False</field>
        </record>


        <record id="d2937_dry_density" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_d2937"/>
            <field name="name">الكثافة الجافة (كغم/م³)</field>
            <field name="code">DRY_DENSITY</field>
            <field name="test_type">computed</field>
            <field name="uom_id" ref="appointment_products.uom_kg_per_cubic_meter_ap"/>
            <field name="is_input_field">False</field>
            <field name="is_computed_field">True</field>
            <field name="computation_formula">result = (WET_DENSITY / (1 + (MOISTURE_CONTENT/100))) if (WET_DENSITY and MOISTURE_CONTENT is not None) else 0</field>
            <field name="depends_on_criteria_ids" eval="[(6,0,[ref('appointment_products.d2937_wet_density'), ref('appointment_products.d2937_moisture')])]"/>
            <field name="sequence">20</field>
            <field name="is_required">False</field>
            <field name="is_critical">False</field>
        </record>

        <record id="d2937_dry_density_avg" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_d2937"/>
            <field name="name">معدل الكثافة الجافة (كغم/م³)</field>
            <field name="code">DRY_DENSITY_AVG</field>
            <field name="test_type">computed</field>
            <field name="uom_id" ref="appointment_products.uom_kg_per_cubic_meter_ap"/>
            <field name="is_input_field">False</field>
            <field name="is_computed_field">True</field>
            <field name="computation_formula">result = avg_series('DRY_DENSITY')</field>
            <field name="depends_on_criteria_ids" eval="[(6,0,[ref('appointment_products.d2937_dry_density')])]"/>
            <field name="sequence">21</field>
            <field name="is_summary_field">True</field>
            <field name="is_required">False</field>
            <field name="is_critical">False</field>
        </record>

        <record id="d2937_compaction_ratio" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_d2937"/>
            <field name="name">نسبة الحدل (%)</field>
            <field name="code">COMPACTION_RATIO</field>
            <field name="test_type">computed</field>
            <field name="uom_id" ref="appointment_products.uom_percent_ap"/>
            <field name="is_input_field">False</field>
            <field name="is_computed_field">True</field>
            <field name="computation_formula">result = ((DRY_DENSITY / LAB_MAX_DRY_DENSITY) * 100) if (LAB_MAX_DRY_DENSITY and LAB_MAX_DRY_DENSITY != 0) else 0</field>
            <field name="depends_on_criteria_ids" eval="[(6,0,[ref('appointment_products.d2937_dry_density'), ref('appointment_products.d2937_lab_max_dry_density')])]"/>
            <field name="sequence">22</field>
            <field name="is_required">False</field>
            <field name="is_critical">False</field>
        </record>

        <record id="d2937_compaction_ratio_avg" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_d2937"/>
            <field name="name">معدل نسبة الحدل (%)</field>
            <field name="code">COMPACTION_RATIO_AVG</field>
            <field name="test_type">computed</field>
            <field name="uom_id" ref="appointment_products.uom_percent_ap"/>
            <field name="is_input_field">False</field>
            <field name="is_computed_field">True</field>
            <field name="computation_formula">result = avg_series('COMPACTION_RATIO')</field>
            <field name="depends_on_criteria_ids" eval="[(6,0,[ref('appointment_products.d2937_compaction_ratio')])]"/>
            <field name="sequence">23</field>
            <field name="is_required">False</field>
            <field name="is_critical">True</field>
            <field name="is_summary_field">True</field>
        </record>


        <record id="d2937_w3" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_d2937"/>
            <field name="name">وزن التراب (غم)</field>
            <field name="code">W3</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_gram_ap"/>
            <field name="sequence">9</field>
            <field name="is_required">False</field>
        </record>
        <record id="d2937_vh" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_d2937"/>
            <field name="name">حجم الحفرة (سم³)</field>
            <field name="code">VH</field>
            <field name="test_type">numeric</field>
            <field name="sequence">13</field>
            <field name="is_required">False</field>
        </record>
        <record id="d2937_w5" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_d2937"/>
            <field name="name">وزن التربة مع العلبة الجاف (غم)</field>
            <field name="code">W5</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_gram_ap"/>
            <field name="sequence">14</field>
            <field name="is_required">False</field>
        </record>
        <record id="d2937_w6" model="lab.test.criterion">
            <field name="template_id" ref="appointment_products.template_field_density_d2937"/>
            <field name="name">وزن العلبة (غم)</field>
            <field name="code">W6</field>
            <field name="test_type">numeric</field>
            <field name="uom_id" ref="appointment_products.uom_gram_ap"/>
            <field name="sequence">15</field>
            <field name="is_required">False</field>
        </record>


        <record id="field_density_d2937_flow_template" model="lab.test.flow.template">
            <field name="name">فحص الكثافة الموقعية (أرض طبيعية) </field>
            <field name="description">فحص الكثافة الموقعية (أرض طبيعية) </field>
            <field name="allow_parallel_tests" eval="True"/>
        </record>
        <record id="field_density_d2937_flow_stage1" model="lab.test.flow.template.line">
            <field name="template_id" ref="appointment_products.field_density_d2937_flow_template"/>
            <field name="sequence">10</field>
            <field name="test_template_id" ref="appointment_products.template_field_density_d2937"/>
            <field name="sample_qty">3</field>
        </record>


        <record id="product_field_density_natural_soil" model="product.template">
            <field name="name">العينة - الكثافة الموقعية (أرض طبيعية)</field>
            <field name="type">consu</field>
            <field name="is_sample_product">True</field>
            <field name="tracking">serial</field>
            <field name="sample_type_id" ref="appointment_products.field_density_sample_type"/>
            <field name="test_flow_template_id" ref="appointment_products.field_density_d2937_flow_template"/>
            <field name="categ_id" ref="product.product_category_all"/>
        </record>

    </data>
</odoo>