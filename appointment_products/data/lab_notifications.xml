<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="email_template_lab_assignment" model="mail.template">
            <field name="name">Laboratory Test Assignment Notice</field>
            <field name="model_id" ref="model_lab_sample"/>
            <field name="subject">ðŸ”¬ Test assignment for sample: {{ object.name }}</field>
            <field name="email_to">{{ object.assigned_emails }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p>Hello {{ object.assigned_names }},</p>
                    
                    <p>You have been assigned to test the following sample:</p>
                    
                    <div style="border: 1px solid #e3e3e3; border-radius: 4px; padding: 15px; margin: 15px 0px;">
                        <h3 style="color: #875A7B; margin: 0px 0px 10px 0px;">ðŸ“‹ Sample Details</h3>
                        <ul>
                            <li><strong>Sample Number:</strong> {{ object.name }}</li>
                            <li><strong>Sample Type:</strong> {{ object.sample_type_id.name or 'not specified' }}</li>
                            <li><strong>Subtype:</strong> {{ object.sample_subtype_id.name or 'not specified' }}</li>
                            <li><strong>Received Date:</strong> {{ object.received_date or 'not specified' }}</li>
                            <li><strong>Project:</strong> {{ object.project_id.name or 'not specified' }}</li>
                            <li><strong>Customer:</strong> {{ object.partner_id.name or 'not specified' }}</li>
                        </ul>
                    </div>
                    
                    <div style="border: 1px solid #e3e3e3; border-radius: 4px; padding: 15px; margin: 15px 0px;">
                        <h3 style="color: #875A7B; margin: 0px 0px 10px 0px;">ðŸ”¬ Test Template</h3>
                        <ul>
                            <li><strong>Required Template:</strong> {{ object.lab_test_template_id.name or 'not specified' }}</li>
                            <li><strong>Current Status:</strong> {{ object.state }}</li>
                        </ul>
                    </div>
                    
                    <p style="margin: 20px 0px;">
                        <a t-attf-href="/web?#id={{ object.id }}&amp;model=lab.sample&amp;view_type=form" 
                           style="background-color: #875A7B; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px;">
                            ðŸ”— Open Sample
                        </a>
                    </p>
                    
                    <p>Please start the test as soon as possible.</p>
                    
                    <p>Thank you,<br/>Laboratory Management Team</p>
                </div>
            </field>
        </record>


    </data>
</odoo> 