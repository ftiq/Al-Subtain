<?xml version="1.0" encoding="UTF-8"?>
<templates>
    <t t-name="mgt_documents.DocumentDashboard" owl="1">
        <div class="modern_dashboard_container o_action_manager_fullscreen">
        <div t-if="state.loading" class="modern_loading">
            <div class="spinner"></div>
            <p>ุฌุงุฑู ุชุญููู ุงูุจูุงูุงุช...</p>
        </div>

            <!-- ุจุทุงูุงุช ุนุตุฑูุฉ -->
            <div t-else="" class="modern_cards_grid">
                
                <!-- ูุงุฑุฏ -->
                <div class="modern_card card_incoming" t-on-click="() => this.openDocumentsByType('incoming')">
                    <div class="card_header">
                        <div class="card_icon">๐ฌ</div>
                        <h3 class="card_title">ูุงุฑุฏ</h3>
                    </div>
                    <div class="card_number" t-esc="state.stats.incoming_total || 0"/>
                    <div class="card_footer">
                        <span class="card_subtitle">ุงููุซุงุฆู ุงููุงุฑุฏุฉ</span>
                    </div>
                </div>

                <!-- ุตุงุฏุฑ -->
                <div class="modern_card card_outgoing" t-on-click="() => this.openDocumentsByType('outgoing')">
                    <div class="card_header">
                        <div class="card_icon">๐ค</div>
                        <h3 class="card_title">ุตุงุฏุฑ</h3>
                    </div>
                    <div class="card_number" t-esc="state.stats.outgoing_total || 0"/>
                    <div class="card_footer">
                        <span class="card_subtitle">ุงููุซุงุฆู ุงูุตุงุฏุฑุฉ</span>
                    </div>
                </div>

                <!-- ุฏุงุฎูู -->
                <div class="modern_card card_internal" t-on-click="() => this.openDocumentsByType('internal')">
                    <div class="card_header">
                        <div class="card_icon">๐ข</div>
                        <h3 class="card_title">ุฏุงุฎูู</h3>
                    </div>
                    <div class="card_number" t-esc="state.stats.internal_total || 0"/>
                    <div class="card_footer">
                        <span class="card_subtitle">ุงููุซุงุฆู ุงูุฏุงุฎููุฉ</span>
                    </div>
                </div>

                <!-- ุชูุฑูุฑ -->
                <div class="modern_card card_report" t-on-click="() => this.openDocumentsByType('report')">
                    <div class="card_header">
                        <div class="card_icon">๐</div>
                        <h3 class="card_title">ุชูุฑูุฑ</h3>
                    </div>
                    <div class="card_number" t-esc="state.stats.report_total || 0"/>
                    <div class="card_footer">
                        <span class="card_subtitle">ุงูุชูุงุฑูุฑ</span>
                    </div>
                </div>

                <!-- ูุฐูุฑุฉ -->
                <div class="modern_card card_memo" t-on-click="() => this.openDocumentsByType('memo')">
                    <div class="card_header">
                        <div class="card_icon">๐</div>
                        <h3 class="card_title">ูุฐูุฑุฉ</h3>
                    </div>
                    <div class="card_number" t-esc="state.stats.memo_total || 0"/>
                    <div class="card_footer">
                        <span class="card_subtitle">ุงููุฐูุฑุงุช</span>
                    </div>
                </div>

                <!-- ุชุนููู -->
                <div class="modern_card" t-on-click="() => this.openDocumentsByType('circular')">
                    <div class="card_header">
                        <div class="card_icon card_circular">๐ข</div>
                        <div class="card_footer">
                            <div class="card_title">ุชุนููู</div>
                            <div class="card_number" t-esc="state.stats.circular_total || 0"/>
                        </div>
                    </div>
                    <div class="card_actions">
                        <button class="card_btn btn_view" t-on-click.stop="() => this.openDocumentsByPriority('circular', '0')">
                            ุนุงุฏู
                        </button>
                        <button class="card_btn btn_add" t-on-click.stop="() => this.openDocumentsByPriority('circular', '1')">
                            ููู
                        </button>
                        <button class="card_btn btn_urgent" t-on-click.stop="() => this.openDocumentsByPriority('circular', '2')">
                            ุนุงุฌู
                        </button>
                        <button class="card_btn btn_very_urgent" t-on-click.stop="() => this.openDocumentsByPriority('circular', '3')">
                            ุนุงุฌู ุฌุฏุงู
                        </button>
                    </div>
                </div>

                <!-- ุฑุณุงูุฉ -->
                <div class="modern_card" t-on-click="() => this.openDocumentsByType('letter')">
                    <div class="card_header">
                        <div class="card_icon card_letter">โ๏ธ</div>
                        <div class="card_footer">
                            <div class="card_title">ุฑุณุงูุฉ</div>
                            <div class="card_number" t-esc="state.stats.letter_total || 0"/>
                        </div>
                    </div>
                    <div class="card_actions">
                        <button class="card_btn btn_view" t-on-click.stop="() => this.openDocumentsByPriority('letter', '0')">
                            ุนุงุฏู
                        </button>
                        <button class="card_btn btn_add" t-on-click.stop="() => this.openDocumentsByPriority('letter', '1')">
                            ููู
                        </button>
                        <button class="card_btn btn_urgent" t-on-click.stop="() => this.openDocumentsByPriority('letter', '2')">
                            ุนุงุฌู
                        </button>
                        <button class="card_btn btn_very_urgent" t-on-click.stop="() => this.openDocumentsByPriority('letter', '3')">
                            ุนุงุฌู ุฌุฏุงู
                        </button>
                    </div>
                </div>

                <!-- ุนูุฏ -->
                <div class="modern_card" t-on-click="() => this.openDocumentsByType('contract')">
                    <div class="card_header">
                        <div class="card_icon card_contract">๐</div>
                        <div class="card_footer">
                            <div class="card_title">ุนูุฏ</div>
                            <div class="card_number" t-esc="state.stats.contract_total || 0"/>
                        </div>
                    </div>
                    <div class="card_actions">
                        <button class="card_btn btn_view" t-on-click.stop="() => this.openDocumentsByPriority('contract', '0')">
                            ุนุงุฏู
                        </button>
                        <button class="card_btn btn_add" t-on-click.stop="() => this.openDocumentsByPriority('contract', '1')">
                            ููู
                        </button>
                        <button class="card_btn btn_urgent" t-on-click.stop="() => this.openDocumentsByPriority('contract', '2')">
                            ุนุงุฌู
                        </button>
                        <button class="card_btn btn_very_urgent" t-on-click.stop="() => this.openDocumentsByPriority('contract', '3')">
                            ุนุงุฌู ุฌุฏุงู
                        </button>
                    </div>
                </div>

                <!-- ูุงุชูุฑุฉ -->
                <div class="modern_card" t-on-click="() => this.openDocumentsByType('invoice')">
                    <div class="card_header">
                        <div class="card_icon card_invoice">๐งง</div>
                        <div class="card_footer">
                            <div class="card_title">ูุงุชูุฑุฉ</div>
                            <div class="card_number" t-esc="state.stats.invoice_total || 0"/>
                        </div>
                    </div>
                    <div class="card_actions">
                        <button class="card_btn btn_view" t-on-click.stop="() => this.openDocumentsByPriority('invoice', '0')">
                            ุนุงุฏู
                        </button>
                        <button class="card_btn btn_add" t-on-click.stop="() => this.openDocumentsByPriority('invoice', '1')">
                            ููู
                        </button>
                        <button class="card_btn btn_urgent" t-on-click.stop="() => this.openDocumentsByPriority('invoice', '2')">
                            ุนุงุฌู
                        </button>
                        <button class="card_btn btn_very_urgent" t-on-click.stop="() => this.openDocumentsByPriority('invoice', '3')">
                            ุนุงุฌู ุฌุฏุงู
                        </button>
                    </div>
                </div>

                <!-- ุฃุฎุฑู -->
                <div class="modern_card" t-on-click="() => this.openDocumentsByType('other')">
                    <div class="card_header">
                        <div class="card_icon card_other">๐</div>
                        <div class="card_footer">
                            <div class="card_title">ุฃุฎุฑู</div>
                            <div class="card_number" t-esc="state.stats.other_total || 0"/>
                        </div>
                    </div>
                    <div class="card_actions">
                        <button class="card_btn btn_view" t-on-click.stop="() => this.openDocumentsByPriority('other', '0')">
                            ุนุงุฏู
                        </button>
                        <button class="card_btn btn_add" t-on-click.stop="() => this.openDocumentsByPriority('other', '1')">
                            ููู
                        </button>
                        <button class="card_btn btn_urgent" t-on-click.stop="() => this.openDocumentsByPriority('other', '2')">
                            ุนุงุฌู
                        </button>
                        <button class="card_btn btn_very_urgent" t-on-click.stop="() => this.openDocumentsByPriority('other', '3')">
                            ุนุงุฌู ุฌุฏุงู
                        </button>
                    </div>
                </div>

                <!-- ุงููุณูุฏุงุช -->
                <div class="modern_card" t-on-click="() => this.openDocuments('all', [['state', '=', 'draft']])">
                    <div class="card_icon card_pending">๐</div>
                    <div class="card_title">ุงููุณูุฏุงุช</div>
                    <div class="card_number" t-esc="state.stats.draft_documents || 0"/>
                    <div class="card_actions">
                        <button class="card_btn btn_view" t-on-click.stop="() => this.openDocuments('all', [['state', '=', 'draft']])">
                            ุนุฑุถ ุงููู
                        </button>
                        <button class="card_btn btn_add" t-on-click.stop="() => this.createDocument()">
                            ุฅุถุงูุฉ ุฌุฏูุฏ
                        </button>
                        <button class="card_btn btn_pending" t-on-click.stop="() => this.openDocumentsByState('submitted')">
                            ููุฏ ุงููุฑุงุฌุนุฉ
                        </button>
                    </div>
                </div>
            </div>

            <!-- ุฃูุณุงู ุงููุนูููุงุช ุงูุณุฑูุนุฉ -->
            <div class="quick_info_section">
                
                <!-- ุงููุซุงุฆู ุงูุฃุฎูุฑุฉ -->
                <div class="info_panel">
                    <h3>
                        <i class="fa fa-clock-o"/>
                        ุขุฎุฑ ุงููุซุงุฆู
                    </h3>
                    <div class="recent_items">
                        <t t-if="state.recent_documents.length === 0">
                            <div style="text-align: center; color: #7f8c8d; padding: 20px;">
                                ูุง ุชูุฌุฏ ูุซุงุฆู ุญุฏูุซุฉ
                            </div>
                        </t>
                        <t t-foreach="state.recent_documents.slice(0, 5)" t-as="doc" t-key="doc.id">
                            <div class="recent_item">
                                <div>
                                    <div class="item_title" t-esc="doc.name"/>
                                    <div class="item_date" t-esc="formatDate(doc.date)"/>
                                </div>
                                <div>
                                    <span class="item_status" t-att-class="getStatusClass(doc.state)" 
                                          t-esc="getStatusName(doc.state)"/>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>

                <!-- ุทูุจุงุช ุงูููุงููุฉ ุงููุนููุฉ -->
                <div class="info_panel">
                    <h3>
                        <i class="fa fa-exclamation-triangle"/>
                        ุทูุจุงุช ุงูููุงููุฉ ุงููุนููุฉ
                    </h3>
                    <div class="recent_items">
                        <t t-if="state.pending_approvals.length === 0">
                            <div style="text-align: center; color: #7f8c8d; padding: 20px;">
                                ูุง ุชูุฌุฏ ุทูุจุงุช ููุงููุฉ ูุนููุฉ
                            </div>
                        </t>
                        <t t-foreach="state.pending_approvals.slice(0, 5)" t-as="approval" t-key="approval.id">
                            <div class="recent_item" t-on-click="() => this.openPendingApprovals()">
                                <div>
                                    <div class="item_title" t-esc="approval.name"/>
                                    <div class="item_date" t-esc="formatDate(approval.request_date)"/>
                                </div>
                                <div>
                                    <span class="item_status status_submitted" t-esc="approval.status || 'ูุนููุฉ'"/>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>

            </div>

            <!-- ุฒุฑ ุงูุชุญุฏูุซ -->
            <button class="refresh_btn" t-on-click="refreshData" title="ุชุญุฏูุซ ุงูุจูุงูุงุช">
                <i class="fa fa-refresh"/>
            </button>

            <!-- ููุงุญุธุฉ -->
            <div class="dashboard_note">

            </div>
        </div>
    </t>
</templates>
