<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>


        <record id="view_document_document_tree" model="ir.ui.view">
            <field name="name">document.document.list</field>
            <field name="model">document.document</field>
            <field name="type">list</field>
            <field name="arch" type="xml">
                <list string="الوثائق" default_order="date desc, id desc" 
                      decoration-success="state == 'approved'"
                      decoration-info="state == 'in_review'"
                      decoration-warning="state == 'submitted'"
                      decoration-muted="state == 'archived'"
                      decoration-danger="state == 'rejected'">
                    <field name="reference_number" string="الرقم المرجعي"/>
                    <field name="name" string="العنوان"/>
                    <field name="document_type" string="النوع"/>
                    <field name="date" string="التاريخ"/>
                    <field name="sender_id" string="المرسل" optional="show"/>
                    <field name="recipient_id" string="المستلم" optional="show"/>
                    <field name="department_id" string="القسم" optional="hide"/>
                    <field name="category_id" string="الفئة" optional="hide"/>
                    <field name="priority" string="الأولوية" widget="priority" optional="hide"/>
                    <field name="state" string="الحالة" widget="badge"
                           decoration-success="state == 'approved'"
                           decoration-info="state == 'in_review'"
                           decoration-warning="state == 'submitted'"
                           decoration-muted="state == 'archived'"
                           decoration-danger="state == 'rejected'"/>
                    <field name="is_signed" string="موقعة رقمياً" widget="boolean_toggle" optional="show"/>
                    <field name="create_uid" string="المنشئ" optional="hide"/>
                    <field name="create_date" string="تاريخ الإنشاء" optional="hide"/>
                    <field name="activity_ids" widget="list_activity" optional="show"/>
                </list>
            </field>
        </record>

        <record id="view_document_document_form" model="ir.ui.view">
            <field name="name">document.document.form</field>
            <field name="model">document.document</field>
            <field name="arch" type="xml">
                <form string="الوثيقة" class="o_mgt_documents_view">
                    <header>
                        <button name="action_submit" type="object" string="إرسال للمراجعة" 
                                class="oe_highlight" groups="mgt_documents.group_document_clerk"
                                invisible="state != 'draft'"/>
                        <button name="action_start_review" type="object" string="بدء المراجعة" 
                                class="oe_highlight" groups="mgt_documents.group_document_approver"
                                invisible="state != 'submitted'"/>
                         <field name="has_pending_approvals" invisible="1"/>
                         <field name="signature_count" invisible="1"/>

                        <button name="action_reject" type="object" string="رفض" 
                                groups="mgt_documents.group_document_approver"
                                invisible="state not in ['submitted', 'in_review']"/>
                        <button name="action_archive" type="object" string="أرشفة" 
                                groups="mgt_documents.group_document_manager"
                                invisible="state not in ['approved', 'rejected']"/>
                        <button name="action_cancel" type="object" string="إلغاء" 
                                groups="mgt_documents.group_document_manager"
                                invisible="state == 'archived'"/>
                        <button name="action_reset_to_draft" type="object" string="إعادة للمسودة" 
                                groups="mgt_documents.group_document_clerk"
                                invisible="state not in ['rejected', 'cancelled']"/>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="action_approve" type="object" 
                                    class="oe_stat_button btn-success" icon="fa-check-circle"
                                    groups="mgt_documents.group_document_manager"
                                    invisible="state != 'in_review' or has_pending_approvals"
                                    help="اعتماد مباشر للوثيقة مع التوقيع الاختياري">
                                <span class="o_stat_text">اعتماد مباشر</span>
                            </button>
                            <button name="action_request_approval" type="object" 
                                    class="oe_stat_button btn-info" icon="fa-users"
                                    invisible="state not in ['in_review'] or has_pending_approvals" 
                                    groups="mgt_documents.group_document_user"
                                    help="طلب موافقة عبر نظام Approvals للتسلسل والتوقيع">
                                <span class="o_stat_text">طلب موافقة</span>
                            </button>
                            <button name="action_view_approvals" type="object" 
                                    class="oe_stat_button btn-warning" icon="fa-clock-o"
                                    invisible="not has_pending_approvals">
                                <span class="o_stat_value">معلق</span>
                                <span class="o_stat_text">موافقات</span>
                            </button>
                            <button name="action_view_signatures" type="object" 
                                    class="oe_stat_button" icon="fa-pencil"
                                    invisible="signature_count == 0">
                                <field name="signature_count" widget="statinfo" string="توقيعات"/>
                            </button>
                        </div>
                        
                        <div class="alert alert-warning" role="alert" invisible="not has_pending_approvals">
                            <i class="fa fa-clock-o"/> 
                            <strong>تنبيه:</strong> يوجد طلبات موافقة معلقة لهذه الوثيقة. 
                            <strong>⚙️ سيتم اعتماد الوثيقة تلقائياً عند اكتمال الموافقات.</strong>
                        </div>
                        
                        <div class="alert alert-info" role="alert" invisible="state != 'in_review' or has_pending_approvals">
                            <i class="fa fa-info-circle"/> 
                            <strong>ملاحظة:</strong> 
                            <span class="text-muted">• للمدراء:</span> <strong>اعتماد</strong> (اعتماد مباشر مع توقيع اختياري)<br/>
                            <span class="text-muted">• للتسلسل المتقدم:</span> <strong>طلب موافقة</strong> (نظام approvals وتعدد المعتمدين)
                        </div>
                        
                        <widget name="web_ribbon" title="مؤرشفة" bg_color="text-bg-secondary" invisible="state != 'archived'"/>
                        <widget name="web_ribbon" title="معتمدة" bg_color="text-bg-success" invisible="state != 'approved'"/>
                        <widget name="web_ribbon" title="مرفوضة" bg_color="text-bg-danger" invisible="state != 'rejected'"/>

                        <div class="oe_title">
                            <h1>
                                <field name="name" placeholder="عنوان الوثيقة..." required="1"/>
                            </h1>
                            <h2>
                                <field name="reference_number" readonly="1"/>
                            </h2>
                        </div>

                        <group>
                            <group name="document_info" string="معلومات الوثيقة" col="2">
                                <field name="document_type" required="1"/>
                                <field name="category_id" required="1"/>
                                <field name="date" required="1"/>
                                <field name="priority"/>
                                <field name="subject" placeholder="موضوع الوثيقة..." colspan="2"/>
                            </group>
                            <group name="parties_info" string="معلومات الأطراف" col="2">
                                <field name="sender_id"/>
                                <field name="sender_employee_id"/>
                                <field name="recipient_id"/>
                                <field name="recipient_employee_id"/>
                                <field name="department_id"/>
                                <field name="company_id" groups="base.group_multi_company"/>
                            </group>
                        </group>



                        <notebook>
                            <page string="المحتوى والملخص" name="content">
                                <group>
                                    <field name="summary" placeholder="ملخص الوثيقة..." 
                                           widget="text" nolabel="1"/>
                                </group>

                                <field name="content" widget="html" nolabel="1" 
                                       placeholder="ابدأ بكتابة محتوى الوثيقة..."
                                       options="{
                                           'style-inline': true, 
                                           'height': 500,
                                           'resizable': true,
                                           'collaborative': false,
                                           'codeview': true,
                                           'fullscreen': true,
                                           'lang': 'ar',
                                           'toolbar': [
                                               ['style', ['style', 'fontname', 'fontsize', 'color']],
                                               ['font', ['bold', 'italic', 'underline', 'strikethrough', 'superscript', 'subscript', 'clear']],
                                               ['fontcolor', ['forecolor', 'backcolor']],
                                               ['para', ['ul', 'ol', 'paragraph']],
                                               ['height', ['height']],
                                               ['table', ['table']],
                                               ['insert', ['link', 'picture', 'video', 'hr']],
                                               ['view', ['fullscreen', 'codeview', 'undo', 'redo', 'help']],
                                               ['misc', ['print']]
                                           ]
                                       }"/> 
                            </page>
                            

                
                            
                            <page string="سير العمل" name="workflow">
                                <group>
                                    <group string="معلومات الموافقة">
                                        <field name="needs_approval" readonly="1"/>
                                        <field name="requires_signature_for_approval"/>
                                        <field name="approved_by" readonly="1" />
                                        <field name="approved_date" readonly="1" />
                                        <field name="signature_for_approval_id" readonly="1" 
                                               invisible="not signature_for_approval_id"/>
                                        <field name="rejection_reason" readonly="1" />
                                    </group>
                                    <group string="معلومات الأرشفة">
                                        <field name="is_archived" readonly="1"/>
                                        <field name="archived_by" readonly="1" />
                                        <field name="archived_date" readonly="1" />
                                        <field name="archive_location" readonly="1" />
                                    </group>
                                </group>
                                
                                <separator string="طلبات الموافقة"/>
                                <field name="approval_requests" readonly="1" widget="one2many_list"/>
                            </page>
                            

                            
                            <page string="سجل التغييرات" name="history">
                                <field name="history_ids" readonly="1" widget="one2many_list"/>
                            </page>
                            
                            <page string="المرفقات" name="attachments">
                                <div class="o_attachment_box">
                                    <div class="o_attachment_header">
                                        <h4>المرفقات</h4>
                                        <button name="action_view_attachments" 
                                                type="object" 
                                                class="btn btn-primary"
                                                string="إرفاق مستند"/>
                                    </div>
                                    <field name="attachment_ids" 
                                           widget="many2many"
                                           context="{
                                               'default_res_model': 'document.document',
                                               'default_res_id': id
                                           }"/>
                                </div>
                            </page>
                            
                            <page string="معلومات إضافية" name="additional_info">
                                <group>
                                    <group string="البيانات الوصفية">
                                        <field name="keywords" widget="many2many_tags" 
                                               placeholder="الكلمات المفتاحية..."/>
                                        <field name="confidentiality_level"/>
                                        <field name="retention_period"/>
                                        <div class="o_row">
                                            <field name="related_documents" widget="many2many_tags" class="o_field_many2many_tags"/>
                                            <button name="action_view_related_documents" type="object" 
                                                    string="عرض" class="btn btn-link" 
                                                    icon="fa-external-link"
                                                    title="انقر لعرض الوثائق ذات الصلة"
                                                    invisible="not related_documents"/>
                                        </div>
                                    </group>
                                    <group string="معلومات النظام">
                                        <field name="create_uid" readonly="1"/>
                                        <field name="create_date" readonly="1"/>
                                        <field name="write_uid" readonly="1"/>
                                        <field name="write_date" readonly="1"/>
                                    </group>
                                </group>
                                
                                <separator string="ملاحظات داخلية"/>
                                <field name="notes" placeholder="ملاحظات داخلية..." widget="text"/>
                            </page>
                            
                            <page string="نسخ وإشعارات" name="copy_notifications">
                                <div class="alert alert-info" role="alert">
                                    <i class="fa fa-info-circle"/> 

                                </div>
                                
                                <group>
                                    <group string="المستخدمون المحددون">
                                        <field name="copy_to_user_ids" widget="many2many_tags" 
                                               placeholder="اختر المستخدمين..."
                                               options="{'no_create': True, 'no_create_edit': True}"/>
                                        <field name="notification_sent" readonly="1"/>
                                        <field name="notification_sent_date" readonly="1" 
                                               invisible="not notification_sent"/>
                                    </group>
                                    <group string="حالة الإرسال">
                                        <button name="action_send_copy_notifications" type="object" 
                                                string="إرسال الإشعارات" 
                                                class="btn btn-primary"
                                                icon="fa-paper-plane"
                                                invisible="not copy_to_user_ids or notification_sent"
                                                confirm="هل أنت متأكد من إرسال إشعارات النسخ للمستخدمين المحددين؟"/>
                                        <div invisible="not notification_sent">
                                            <i class="fa fa-check-circle text-success"/> تم إرسال الإشعارات بنجاح
                                        </div>
                                    </group>
                                </group>
                                
                                <separator string="الهامش "/>
                                <field name="copy_message_id" placeholder="اختر هامش معدة مسبقاً" nolabel="1" options="{'no_create': False}"/>
                            </page>
                        </notebook>
                    </sheet>
                    
                    <chatter>
                        <field name="message_follower_ids" options="{'display_log_button': True}"/>
                        <field name="activity_ids"/>
                        <field name="message_ids" options="{'display_log_button': True}"/>
                    </chatter>
                </form>
            </field>
        </record>

        <record id="view_document_document_kanban" model="ir.ui.view">
            <field name="name">document.document.kanban</field>
            <field name="model">document.document</field>
            <field name="arch" type="xml">
                <kanban default_group_by="state" default_order="create_date desc, id desc"
                        class="o_kanban_small_column o_document_kanban o_kanban_dashboard o_mgt_documents_view"
                        sample="1" quick_create="false" create="true"
                        records_draggable="false" groups_draggable="false"
                        archivable="false" disable_linking="true">
                    <field name="id"/>
                    <field name="name"/>
                    <field name="reference_number"/>
                    <field name="document_type"/>
                    <field name="state"/>
                    <field name="priority"/>
                    <field name="date"/>
                    <field name="sender_id"/>
                    <field name="recipient_id"/>
                    <field name="department_id"/>
                    <field name="category_id"/>

                    <field name="approval_count"/>
                    <field name="signature_count"/>
                    <field name="activity_ids"/>
                    <field name="activity_state"/>
                    <field name="create_uid"/>
                    <field name="create_date"/>
                    <field name="subject"/>
                    <field name="urgency_level"/>
                    
                    <progressbar field="activity_state" 
                               colors='{"planned": "success", "today": "warning", "overdue": "danger"}'
                               help="شريط التقدم يظهر حالة الأنشطة المجدولة للوثائق"/>
                    
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_card oe_kanban_global_click o_document_card" 
                                 t-attf-class="#{record.state.raw_value == 'in_review' ? 'o_kanban_card_pulse' : ''}"
                                 name="action_view_document" type="object">
                                <div class="o_kanban_card_header">
                                    <div class="o_kanban_card_header_title">
                                        <div class="o_kanban_record_top">
                                            <div class="o_kanban_top_left">
                                                <strong class="o_kanban_record_title">
                                                    <field name="name"/>
                                                </strong>
                                                <div class="o_kanban_record_subtitle text-muted">
                                                    <i class="fa fa-file-text-o me-1"/>
                                                    <field name="reference_number"/>
                                                </div>
                                            </div>
                                            <div class="o_kanban_top_right">
                                                <div class="o_dropdown_kanban dropdown">
                                                    <a role="button" class="dropdown-toggle o-no-caret btn" data-bs-toggle="dropdown" href="#" aria-label="Dropdown menu" title="Dropdown menu">
                                                        <span class="fa fa-ellipsis-v"/>
                                                    </a>
                                                    <div class="dropdown-menu" role="menu">
                                                        <a role="menuitem" class="dropdown-item oe_kanban_action oe_kanban_action_a" data-type="open">
                                                            <i class="fa fa-external-link me-2"/>عرض الوثيقة
                                                        </a>
                                                        <a role="menuitem" class="dropdown-item oe_kanban_action oe_kanban_action_a" data-type="edit">
                                                            <i class="fa fa-edit me-2"/>تحرير
                                                        </a>
                                                        <div class="dropdown-divider"/>
                                                        <t t-if="widget.deletable">
                                                            <a role="menuitem" class="dropdown-item oe_kanban_action oe_kanban_action_a" data-type="delete">
                                                                <i class="fa fa-trash me-2"/>حذف
                                                            </a>
                                                        </t>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="o_kanban_card_content">
                                    <div class="o_kanban_tags_section mb-2">
                                        <div class="o_kanban_tag_row" t-if="record.document_type.raw_value">
                                            <span class="o_kanban_tag o_kanban_tag_type">
                                                <i class="fa fa-tag me-1"/>
                                                <field name="document_type"/>
                                            </span>
                                        </div>
                                        <div class="o_kanban_tag_row" t-if="record.category_id.raw_value">
                                            <span class="o_kanban_tag o_kanban_tag_category">
                                                <i class="fa fa-folder me-1"/>
                                                <field name="category_id"/>
                                            </span>
                                        </div>
                                        <div class="o_kanban_tag_row" t-if="record.department_id.raw_value">
                                            <span class="o_kanban_tag o_kanban_tag_department">
                                                <i class="fa fa-building me-1"/>
                                                <field name="department_id"/>
                                            </span>
                                        </div>
                                    </div>
                                    
                                    <div class="o_kanban_details_section mb-2">
                                        <div class="o_kanban_detail_row" t-if="record.date.raw_value">
                                            <span class="o_kanban_detail_label">
                                                <i class="fa fa-calendar me-1"/>
                                                تاريخ الوثيقة:
                                            </span>
                                            <span class="o_kanban_detail_value">
                                                <field name="date" widget="date"/>
                                            </span>
                                        </div>
                                        <div class="o_kanban_detail_row" t-if="record.sender_id.raw_value">
                                            <span class="o_kanban_detail_label">
                                                <i class="fa fa-user me-1"/>
                                                المرسل:
                                            </span>
                                            <span class="o_kanban_detail_value">
                                                <field name="sender_id"/>
                                            </span>
                                        </div>
                                        <div class="o_kanban_detail_row" t-if="record.recipient_id.raw_value">
                                            <span class="o_kanban_detail_label">
                                                <i class="fa fa-user-o me-1"/>
                                                المستلم:
                                            </span>
                                            <span class="o_kanban_detail_value">
                                                <field name="recipient_id"/>
                                            </span>
                                        </div>
                                        <div class="o_kanban_detail_row" t-if="record.subject.raw_value">
                                            <span class="o_kanban_detail_label">
                                                <i class="fa fa-comment me-1"/>
                                                الموضوع:
                                            </span>
                                            <span class="o_kanban_detail_value">
                                                <field name="subject"/>
                                            </span>
                                        </div>
                                    </div>
                                    
                                    <div class="o_kanban_priority_section mb-2" t-if="record.priority.raw_value and record.priority.raw_value != '0'">
                                        <div class="o_kanban_priority_header">
                                            <span class="o_kanban_priority_label">
                                                <i class="fa fa-star me-1"/>
                                                الأولوية
                                            </span>
                                            <span class="o_kanban_priority_value">
                                                <field name="priority" widget="priority"/>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="o_kanban_card_footer">
                                    <div class="o_kanban_footer_left">
                                        <div class="o_kanban_footer_stats">

                                            <span class="o_kanban_stats_item" t-if="record.approval_count.raw_value > 0">
                                                <i class="fa fa-check-circle me-1"/>
                                                <t t-esc="record.approval_count.raw_value"/>
                                                <small class="text-muted">موافقات</small>
                                            </span>
                                            <span class="o_kanban_stats_item" t-if="record.signature_count.raw_value > 0">
                                                <i class="fa fa-signature me-1"/>
                                                <t t-esc="record.signature_count.raw_value"/>
                                                <small class="text-muted">توقيعات</small>
                                            </span>
                                        </div>
                                        <div class="o_kanban_footer_activity">
                                            <field name="activity_ids" widget="kanban_activity"/>
                                        </div>
                                    </div>
                                    <div class="o_kanban_footer_right">
                                        <div class="o_kanban_action_buttons">

                                        </div>
                                        <div class="o_kanban_click_indicator">
                                            <i class="fa fa-arrow-right text-primary" title="اضغط لعرض الوثيقة"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <record id="view_document_document_search" model="ir.ui.view">
            <field name="name">document.document.search</field>
            <field name="model">document.document</field>
            <field name="arch" type="xml">
                <search string="البحث في الوثائق">
                    <field name="name" string="العنوان/المحتوى" 
                           filter_domain="['|', '|', ('name', 'ilike', self), ('content', 'ilike', self), ('summary', 'ilike', self)]"/>
                    <field name="reference_number" string="الرقم المرجعي"/>
                    <field name="subject" string="الموضوع"/>
                    <field name="sender_id" string="المرسل"/>
                    <field name="recipient_id" string="المستلم"/>
                    <field name="category_id" string="الفئة"/>
                    <field name="department_id" string="القسم"/>
                    <field name="keywords" string="الكلمات المفتاحية"/>
                    
                    <separator/>
                    <filter string="مسوداتي" name="my_drafts" 
                            domain="[('create_uid', '=', uid), ('state', '=', 'draft')]"/>
                    <filter string="وثائقي" name="my_documents" 
                            domain="[('create_uid', '=', uid)]"/>
                    <filter string="المحالة إلي" name="assigned_to_me" 
                            domain="['|', ('recipient_employee_id.user_id', '=', uid), ('recipient_id.user_ids', 'in', uid)]"/>
                    <filter string="قسمي" name="my_department" 
                            domain="[('department_id.member_ids.user_id', '=', uid)]"/>
                    
                    <separator/>
                    <filter string="المخاطبات الواردة" name="incoming" 
                            domain="[('document_type', '=', 'incoming')]"/>
                    <filter string="المخاطبات الصادرة" name="outgoing" 
                            domain="[('document_type', '=', 'outgoing')]"/>
                    <filter string="المخاطبات الداخلية" name="internal" 
                            domain="[('document_type', '=', 'internal')]"/>
                    <filter string="التعاميم" name="circulars" 
                            domain="[('document_type', '=', 'circular')]"/>

                    
                    <separator/>
                    <filter string="مسودة" name="draft" 
                            domain="[('state', '=', 'draft')]"/>
                    <filter string="مرسلة للمراجعة" name="submitted" 
                            domain="[('state', '=', 'submitted')]"/>
                    <filter string="قيد المراجعة" name="in_review" 
                            domain="[('state', '=', 'in_review')]"/>
                    <filter string="معتمدة" name="approved" 
                            domain="[('state', '=', 'approved')]"/>
                    <filter string="مؤرشفة" name="archived" 
                            domain="[('state', '=', 'archived')]"/>
                    <filter string="مرفوضة" name="rejected" 
                            domain="[('state', '=', 'rejected')]"/>
                    
                    <separator/>
                    <filter string="أولوية عالية" name="high_priority" 
                            domain="[('priority', '=', '3')]"/>
                    <filter string="تحتاج موافقة" name="needs_approval" 
                            domain="[('needs_approval', '=', True)]"/>

                    
                    <separator/>
                    <filter string="اليوم" name="today" 
                             domain="[('date', '=', context_today())]"/>
                    <filter string="هذا الأسبوع" name="this_week" 
                             domain="[('date', '>=', context_today())]"/>
                    <filter string="هذا الشهر" name="this_month" 
                             domain="[('date', '>=', context_today())]"/>
                    
                    <separator/>
                    <filter string="الأنشطة المتأخرة" name="activities_overdue" 
                            domain="[('activity_ids.date_deadline', '&lt;', context_today())]" 
                            help="الأنشطة المتأخرة"/>
                    <filter string="أنشطة اليوم" name="activities_today" 
                            domain="[('activity_ids.date_deadline', '=', context_today())]"/>
                    
                    <group expand="0" string="تجميع حسب">
                        <filter string="الحالة" name="group_by_state" context="{'group_by': 'state'}"/>
                        <filter string="النوع" name="group_by_type" context="{'group_by': 'document_type'}"/>
                        <filter string="الفئة" name="group_by_category" context="{'group_by': 'category_id'}"/>
                        <filter string="القسم" name="group_by_department" context="{'group_by': 'department_id'}"/>
                        <filter string="المرسل" name="group_by_sender" context="{'group_by': 'sender_id'}"/>
                        <filter string="المستلم" name="group_by_recipient" context="{'group_by': 'recipient_id'}"/>
                        <filter string="الأولوية" name="group_by_priority" context="{'group_by': 'priority'}"/>
                        <filter string="تاريخ الإنشاء" name="group_by_create_date" context="{'group_by': 'create_date:month'}"/>
                        <filter string="التاريخ" name="group_by_date" context="{'group_by': 'date:month'}"/>
                    </group>
                </search>
            </field>
        </record>


        <record id="action_document_document" model="ir.actions.act_window">
            <field name="name">جميع الوثائق</field>
            <field name="res_model">document.document</field>
            <field name="view_mode">kanban,list,form</field>
            <field name="context">{}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    إنشاء وثيقة جديدة
                </p>
                <p>
                    ابدأ بإنشاء وثيقة جديدة، مخاطبة أو كتاب إلكتروني.
                    يمكنك تتبع حالة الوثيقة من الإنشاء حتى الأرشفة.
                </p>
            </field>
        </record>


        <record id="action_document_incoming" model="ir.actions.act_window">
            <field name="name">المخاطبات الواردة</field>
            <field name="res_model">document.document</field>
            <field name="view_mode">kanban,list,form</field>
            <field name="domain">[('document_type', '=', 'incoming')]</field>
            <field name="context">{'default_document_type': 'incoming'}</field>
        </record>


        <record id="action_document_outgoing" model="ir.actions.act_window">
            <field name="name">المخاطبات الصادرة</field>
            <field name="res_model">document.document</field>
            <field name="view_mode">kanban,list,form</field>
            <field name="domain">[('document_type', '=', 'outgoing')]</field>
            <field name="context">{'default_document_type': 'outgoing'}</field>
        </record>


        <record id="action_document_internal" model="ir.actions.act_window">
            <field name="name">المخاطبات الداخلية</field>
            <field name="res_model">document.document</field>
            <field name="view_mode">kanban,list,form</field>
            <field name="domain">[('document_type', '=', 'internal')]</field>
            <field name="context">{'default_document_type': 'internal'}</field>
        </record>


        <record id="action_document_circulars" model="ir.actions.act_window">
            <field name="name">التعاميم</field>
            <field name="res_model">document.document</field>
            <field name="view_mode">kanban,list,form</field>
            <field name="domain">[('document_type', '=', 'circular')]</field>
            <field name="context">{'default_document_type': 'circular'}</field>
        </record>





        <record id="action_my_created_documents" model="ir.actions.act_window">
            <field name="name">الوثائق التي أنشأتها</field>
            <field name="res_model">document.document</field>
            <field name="view_mode">kanban,list,form</field>
            <field name="domain">[('create_uid', '=', uid)]</field>
        </record>


        <record id="action_documents_assigned_to_me" model="ir.actions.act_window">
            <field name="name">الوثائق المحالة إلي</field>
            <field name="res_model">document.document</field>
            <field name="view_mode">kanban,list,form</field>
            <field name="domain">['|', ('recipient_employee_id.user_id', '=', uid), ('recipient_id.user_ids', 'in', uid)]</field>
        </record>


        <record id="action_my_department_documents" model="ir.actions.act_window">
            <field name="name">وثائق قسمي</field>
            <field name="res_model">document.document</field>
            <field name="view_mode">kanban,list,form</field>
            <field name="domain">[('department_id.member_ids.user_id', '=', uid)]</field>
        </record>


        <record id="action_archived_documents" model="ir.actions.act_window">
            <field name="name">الوثائق المؤرشفة</field>
            <field name="res_model">document.document</field>
            <field name="view_mode">list,form</field>
            <field name="domain">[('state', '=', 'archived')]</field>
        </record>

    </data>
</odoo> 